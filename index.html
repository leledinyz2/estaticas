<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ðŸŽµ Placar Just Dance do Lele ðŸŽµ</title>
<style>
  body { font-family: "Poppins", sans-serif; background:#0d0d0d; color:#f4f4f4; margin:0 }
  header { background:#b30a3c; text-align:center; padding:20px; font-size:1.6rem; font-weight:600; color:#fff; border-radius:0 0 10px 10px; }
  .container { max-width:980px; margin:30px auto; padding:20px; background:#111; border-radius:10px; box-shadow:0 4px 20px rgba(255,255,255,0.04); overflow-x:auto; }
  .controls { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:8px; align-items:center; }
  label { font-size:0.9rem; color:#ddd }
  select,input { padding:8px 10px; border-radius:6px; border:1px solid #333; background:#161616; color:#fff }
  table { width:100%; border-collapse:collapse; margin-top:12px; table-layout:fixed; word-wrap:break-word; }
  th,td { padding:10px; border-bottom:1px solid #222; text-align:left; vertical-align:middle }
  th { color:#ff88b3; font-weight:600 }
  tr:hover { background:#1a1a1a }
  footer { text-align:center; color:#999; margin-top:16px; font-size:0.9rem }
  .small { font-size:0.85rem; color:#aaa; margin-left:8px }
</style>
</head>
<body>
<header>ðŸŽµ Placar Just Dance do Lele ðŸŽµ</header>

<div class="container">
  <div class="controls">
    <div>
      <label>Filtro por estrelas mÃ­nimas:</label><br>
      <select id="filtroEstrelas"><option value="0">Todas</option><option value="1">1+</option><option value="2">2+</option><option value="3">3+</option><option value="4">4+</option><option value="5">5</option></select>
    </div>
    <div style="flex:1">
      <label>Buscar mÃºsica:</label><br>
      <input id="buscaMusica" type="text" placeholder="Digite o nome..." style="width:100%"/>
    </div>
  </div>

  <div class="small" id="detectedHeaders"></div>

  <table id="tabela" aria-live="polite">
    <thead>
      <tr>
        <th>MÃºsica</th>
        <th>VersÃ£o</th>
        <th>PontuaÃ§Ã£o</th>
        <th>Estrelas</th>
        <th>Jogo</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <footer>Atualiza automaticamente com base na planilha do Lele ðŸ’ƒ</footer>
</div>

<script>
/* URL pÃºblica do CSV (o seu link no formato /pub?output=csv) */
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTas34kcpM1cQdW2oR_XjNlINTVShbwfTyVdYnBe2glvdvlJbcDlbQ0npgTdJZ_6p-tQgozmHmnsCQy/pub?gid=0&single=true&output=csv";

/* --- Parser CSV robusto (suporta aspas, vÃ­rgulas internas e quebras de linha dentro de campos) --- */
function parseCSV(text) {
  const rows = [];
  let i = 0, cur = '', row = [], inQuotes = false;
  while (i < text.length) {
    c
